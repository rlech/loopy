<head>
  <title>loopy</title>
</head>

<body>
  <h1>Loopy: a tiny simple drum machine</h1>

  {{> main}}
</body>

<template name="oneCell">
  <rect x="{{xPos}}"
        y="{{yPos}}"
        height=22
        width=22
        class="cell {{#if active}}active{{/if}}" />
</template>

<template name="main">
  <p>
    Click on some of the squares, then click: 
    <button class="play">
      {{#if playing}}
        Pause
      {{else}}
        Play
      {{/if}}
    </button>

    - BPM: <select class="bpm">
      {{#each bpmOption in bpmOptions}}
        <option value="{{bpmOption}}" selected="{{selectedBpm bpmOption}}">{{bpmOption}}</option>
      {{/each}}
    </select>
  </p>

  <div>
    <svg width="100%" height="20%" viewBox="0 0 800 130">
      {{#each cell in cells}}
        {{> oneCell cell=cell}}
      {{/each}}
      <rect x="{{stepXPos}}" y="100" height="10" width="22" class="step" />
    </svg>
  </div>

  <p><a href="https://github.com/stubailo/loopy">GitHub</a></p>
</template>
